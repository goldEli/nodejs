{"version":3,"sources":["webpack:///./src/views/Dormitory.vue?5b94","webpack:///./src/components/modal/DormitoryModal.vue?7a9a","webpack:///src/components/modal/DormitoryModal.vue","webpack:///./src/components/modal/DormitoryModal.vue?22e5","webpack:///./src/components/modal/DormitoryModal.vue","webpack:///src/views/Dormitory.vue","webpack:///./src/views/Dormitory.vue?5143","webpack:///./src/views/Dormitory.vue","webpack:///./src/views/Dormitory.vue?9164"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","showModal","on","mycloseDialog","changeUpdate","updateData","model","value","callback","$$v","searchVal","expression","onSearch","_v","reset","$event","staticStyle","myCurrentData","scopedSlots","_u","key","fn","scope","_s","row","type","delQueding","updateForm","dept","_e","currentPage","myPageCount","myhandleCurrentChange","staticRenderFns","directives","name","rawName","isUpdate","visible","delDialog","ref","formValue","rules","$set","_n","slot","confirm","component"],"mappings":"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","file":"js/chunk-08f2b154.391ed2ea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isupdate)?_c('div',{staticClass:\"content\"},[_c('DormitoryModal',{attrs:{\"type\":'add',\"visible\":_vm.showModal},on:{\"closeDialog\":_vm.mycloseDialog}}),_c('DormitoryModal',{attrs:{\"type\":'update',\"visible\":_vm.showModal,\"inputVal\":_vm.changeUpdate},on:{\"closeDialog\":_vm.mycloseDialog,\"updatemyData\":_vm.updateData}}),_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入宿舍名称\"},model:{value:(_vm.searchVal),callback:function ($$v) {_vm.searchVal=$$v},expression:\"searchVal\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_c('el-form-item',[_c('el-button',{staticClass:\"addUser\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showModal = true}}},[_vm._v(\"添加宿舍\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin\":\"3rem auto\"},attrs:{\"data\":_vm.myCurrentData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"fixed\":\"\",\"prop\":\"dormId\",\"label\":\"宿舍编号\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"dormName\",\"label\":\"宿舍名称\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"num\",\"label\":\"宿舍人数\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"balance\",\"label\":\"宿舍水电费余额(元)\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"type\",\"label\":\"宿舍状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(scope.row.type == 1 ? '正常' : '催款中'))])]}}],null,false,1136796882)}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.delQueding(scope.row)}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.updateForm(scope.row)}}},[_vm._v(\"修改\")]),(scope.row.type==1)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.dept(scope.row)}}},[_vm._v(\"发起催款申请\")]):_vm._e(),(scope.row.type==2)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.dept(scope.row)}}},[_vm._v(\"修改为正常状态\")]):_vm._e()]}}],null,false,43846778)})],1),_c('el-pagination',{attrs:{\"center\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.currentPage,\"page-count\":_vm.myPageCount},on:{\"current-change\":_vm.myhandleCurrentChange}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],attrs:{\"center\":\"\",\"title\":_vm.isUpdate === true ? '修改宿舍' : '添加宿舍',\"visible\":_vm.visible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.delDialog}},[_c('el-form',{ref:\"formValue\",attrs:{\"model\":_vm.formValue,\"label-width\":\"80px\",\"size\":\"small\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"宿舍编号\",\"prop\":\"dormId\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isUpdate,\"placeholder\":\"仅支持数值类型\"},model:{value:(_vm.formValue.dormId),callback:function ($$v) {_vm.$set(_vm.formValue, \"dormId\", _vm._n($$v))},expression:\"formValue.dormId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"宿舍名称\",\"prop\":\"dormName\"}},[_c('el-input',{model:{value:(_vm.formValue.dormName),callback:function ($$v) {_vm.$set(_vm.formValue, \"dormName\", $$v)},expression:\"formValue.dormName\"}})],1),(_vm.isUpdate)?_c('el-form-item',{attrs:{\"label\":\"宿舍人数\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isUpdate},model:{value:(_vm.formValue.num),callback:function ($$v) {_vm.$set(_vm.formValue, \"num\", $$v)},expression:\"formValue.num\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"宿舍水电费余额(元)\",\"prop\":\"balance\"}},[_c('el-input',{attrs:{\"placeholder\":\"仅支持数值类型\"},model:{value:(_vm.formValue.balance),callback:function ($$v) {_vm.$set(_vm.formValue, \"balance\", _vm._n($$v))},expression:\"formValue.balance\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.delDialog}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.confirm('formValue')}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog v-dialogDrag center :title=\"isUpdate === true ? '修改宿舍' : '添加宿舍'\" :visible.sync=\"visible\" width='30%' @close='delDialog'>\r\n        <el-form :model=\"formValue\" label-width=\"80px\" size='small' :rules=\"rules\" ref=\"formValue\">\r\n            <el-form-item label=\"宿舍编号\" prop=\"dormId\">\r\n                <el-input v-model.number=\"formValue.dormId\" :disabled=\"isUpdate\" placeholder=\"仅支持数值类型\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"宿舍名称\" prop=\"dormName\">\r\n                <el-input v-model=\"formValue.dormName\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"宿舍人数\" v-if=\"isUpdate\">\r\n                <el-input v-model=\"formValue.num\" :disabled=\"isUpdate\" ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"宿舍水电费余额(元)\" prop=\"balance\">\r\n                <el-input  v-model.number=\"formValue.balance\" placeholder=\"仅支持数值类型\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"delDialog\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"confirm('formValue')\">确 定</el-button>\r\n        </div>\r\n        </el-dialog>\r\n</template>\r\n    \r\n<script>\r\nimport tableMixins from '../../mixins/tableMixin'\r\nexport default {\r\n    name: '',\r\n    mixins: [tableMixins],\r\n    props:[\r\n        'type','visible','inputVal'\r\n    ],\r\n    data() {\r\n        return {\r\n            formValue:{\r\n                id:'',\r\n                dormId:'',\r\n                dormName:'',\r\n                num:'',\r\n                balance:''\r\n            },//表单数据\r\n            isUpdate:false,//是否为修改弹框\r\n            rules: {\r\n                dormId: [\r\n                    { required: true, message: '寝室编号不能为空', trigger: 'blur' },\r\n                    // { type: 'number', message: '编号必须为数字值'}\r\n                ],\r\n                dormName: [\r\n                    { required: true, message: '寝室名称不能为空', trigger: 'blur' }\r\n                ],\r\n                balance: [\r\n                    { required: true, message: '寝室余额不能为空，默认为0', trigger: 'blur' },\r\n                    // { type: 'number', message: '余额必须为数字值'}\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    // computed: {\r\n        \r\n    // },\r\n    // created() {\r\n        \r\n    // },\r\n    // mounted() {\r\n    //     console.log('props',this.type)\r\n    // },\r\n    watch:{\r\n        inputVal(){\r\n            // console.log('inputVal发生了变化');\r\n            this.formValue.id = this.inputVal.id\r\n            this.formValue.dormId = this.inputVal.dormId\r\n            this.formValue.dormName = this.inputVal.dormName\r\n            this.formValue.num = this.inputVal.num\r\n            this.formValue.balance = this.inputVal.balance\r\n            this.isUpdate = true\r\n        },\r\n    },\r\n    methods: {\r\n        /* 确定 */\r\n        confirm(formName){\r\n            const _this = this\r\n            _this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    if(_this.isUpdate){\r\n                        //修改确定\r\n                        // console.log('row.id',row.id);\r\n                        _this.update({\r\n                            url: '/dorm/updatedorm',\r\n                            data: {\r\n                                id: _this.formValue.id, \r\n                                dormName: _this.formValue.dormName, \r\n                                balance: _this.formValue.balance, \r\n                                dormId: _this.formValue.dormId, \r\n                                num: _this.formValue.num, \r\n                            },\r\n                            updateUrl:'/dorm/getdorm',\r\n                            callback:function(data) {\r\n                                _this.$emit('updatemyData',data)\r\n                                _this.delDialog()\r\n                            }\r\n                        })\r\n                    }else{\r\n                        //增加确定\r\n                        _this.add({\r\n                            url: '/dorm/adddorm',\r\n                            data: {\r\n                                dormName: _this.formValue.dormName, \r\n                                balance: _this.formValue.balance, \r\n                                dormId: _this.formValue.dormId,\r\n                            },\r\n                            updateUrl:'/dorm/getdorm',\r\n                            callback:function(data) {\r\n                                // console.log('回调函数中的data',data);\r\n                                _this.$emit('updatemyData',data)\r\n                                _this.delDialog()\r\n                            }\r\n                        })\r\n                    }\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n            \r\n        },\r\n \r\n        /* 跟新确定 */\r\n        updateQueding(row) {\r\n            this.updateState = false\r\n            this.update({\r\n                url: '/suShe/gengXinById',\r\n                data: this.formUpdate,\r\n                method: 'post'\r\n            })\r\n        },\r\n         /* 取消弹框 */\r\n        delDialog(){\r\n            // console.log('取消弹框');\r\n            this.isUpdate = false\r\n            this.formValue.dormId = ''\r\n            this.formValue.dormName = ''\r\n            this.formValue.num = ''\r\n            this.formValue.balance = ''\r\n            this.$emit('closeDialog')\r\n        },\r\n    \r\n    },\r\n   \r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DormitoryModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DormitoryModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DormitoryModal.vue?vue&type=template&id=9a8790b4&\"\nimport script from \"./DormitoryModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DormitoryModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"content\" v-if=\"isupdate\">\r\n    <!-- 添加 -->\r\n    <DormitoryModal :type=\"'add'\" :visible=\"showModal\" @closeDialog='mycloseDialog'></DormitoryModal>\r\n    <!-- 修改 -->\r\n    <DormitoryModal :type=\"'update'\" :visible=\"showModal\" :inputVal=\"changeUpdate\" @closeDialog='mycloseDialog' @updatemyData='updateData'></DormitoryModal>\r\n    \r\n    <!-- 搜索 -->\r\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n      <el-form-item>\r\n        <el-input v-model=\"searchVal\" placeholder=\"请输入宿舍名称\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSearch\">搜索</el-button>\r\n        <el-button type=\"primary\" @click=\"reset\">重置</el-button>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button class=\"addUser\" type=\"primary\" @click=\"showModal = true\">添加宿舍</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 表格展示 -->\r\n    <el-table :data=\"myCurrentData\" border style=\"width: 100%;margin:3rem auto;\">\r\n      <el-table-column align=\"center\" fixed prop=\"dormId\" label=\"宿舍编号\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" prop=\"dormName\" label=\"宿舍名称\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" prop=\"num\" label=\"宿舍人数\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" prop=\"balance\" label=\"宿舍水电费余额(元)\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" prop=\"type\" label=\"宿舍状态\">\r\n        <template slot-scope=\"scope\">\r\n          <p>{{scope.row.type == 1 ? '正常' : '催款中'}}</p>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"delQueding(scope.row)\" type=\"text\" size=\"small\">删除</el-button>\r\n          <el-button @click=\"updateForm(scope.row)\" type=\"text\" size=\"small\">修改</el-button>\r\n          <el-button @click=\"dept(scope.row)\" type=\"text\" size=\"small\" v-if=\"scope.row.type==1\">发起催款申请</el-button>\r\n          <el-button @click=\"dept(scope.row)\" type=\"text\" size=\"small\" v-if=\"scope.row.type==2\">修改为正常状态</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- pageCount 总页码  current-change 改变当前页 -->\r\n    <el-pagination center layout=\"prev, pager, next\" :current-page=\"currentPage\" :page-count=\"myPageCount\" @current-change=\"myhandleCurrentChange\">\r\n    </el-pagination>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tableMixins from '../mixins/tableMixin'\r\nimport DormitoryModal from '../components/modal/DormitoryModal'\r\nexport default {\r\n    name: '',\r\n    components: {\r\n        DormitoryModal\r\n    },\r\n    mixins: [tableMixins],\r\n    data() {\r\n        return {\r\n            selectUrl: '/suShe/chaXunAll',\r\n            myTableData:[],\r\n            currentPage: 1,/* 当前页 */\r\n            pageNum: 5,/* 每页显示数据条数 */\r\n            showModal:false,//是否显示弹框\r\n            changeUpdate:'',//点击修改时的那一条数据\r\n            isupdate:true,\r\n            searchVal:'',//搜索框内容\r\n        }\r\n    },\r\n    computed:{\r\n        myCurrentData() {\r\n        // 　　console.log('currentData重新执行',this.myTableData);\r\n            let qishi = (this.currentPage - 1) * this.pageNum\r\n            let jieshu = qishi + this.pageNum\r\n            return this.myTableData.slice(qishi, jieshu)\r\n        },\r\n        /* 总页码  一共多少页 */\r\n        myPageCount() {\r\n            // console.log('重新渲染页数');\r\n            return Math.ceil(this.myTableData.length / this.pageNum)\r\n        }\r\n    },\r\n    created() {\r\n        this.onSelect({\r\n            url:'/dorm/getdorm'\r\n        },(data)=>{\r\n            // console.log('渲染时获取的data',data);\r\n            this.myTableData = data\r\n        })\r\n    },\r\n    mounted(){\r\n        \r\n    },\r\n    methods: {\r\n        myhandleCurrentChange(val) {\r\n            // console.log('page发生改变');\r\n            this.currentPage = val\r\n        },\r\n        /* 添加确定 */\r\n        addQueding() {\r\n            this.add({\r\n                url: '/suShe/xinZeng',\r\n                data: this.formAdd\r\n            })\r\n        },\r\n        /* 删除按钮 */\r\n        delQueding(row) {\r\n            const _this = this\r\n            _this.$confirm('确认删除该宿舍吗', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n                }).then(() => {\r\n                    if(row.num !== 0) return _this.$message({\r\n                        type: 'info',\r\n                        message: '该寝室还有人，不能直接删除'\r\n                    }); \r\n                    // console.log('row.id',row.id);\r\n                    _this.del({\r\n                        url: '/dorm/deldorm',\r\n                        data: { dormId: row.id },\r\n                        updateUrl:'/dorm/getdorm',\r\n                        callback:function(data) {\r\n                            _this.updateData(data)\r\n                        }\r\n                    })\r\n                }).catch(() => {\r\n                _this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                });          \r\n            });\r\n        },\r\n        /* 点击修改 */\r\n        updateForm(item){\r\n            console.log('item',item);\r\n            this.changeUpdate = item\r\n            this.showModal = true\r\n        },\r\n        /* 关闭弹框 */\r\n        mycloseDialog(){\r\n            // console.log('传过来的取消弹框');\r\n            this.showModal = false\r\n            this.changeUpdate = ''\r\n            // this.$forceUpdate();\r\n            // this.isupdate = false\r\n            // this.$nextTick(() => {\r\n            //     this.isupdate = true\r\n            // })\r\n        },\r\n        /* 更新data数据 */\r\n        updateData(data){\r\n            // console.log('我的data',data);\r\n            this.myTableData = data\r\n            this.currentPage = 1\r\n        },\r\n        /* 搜索 */\r\n        onSearch(){\r\n            console.log(this.searchVal);\r\n            if (this.searchVal === '') {\r\n                this.onSelect({\r\n                    url:'/dorm/getdorm'\r\n                },(data)=>{\r\n                    this.myTableData = data\r\n                })\r\n            } else {\r\n                this.onSelect({\r\n                    url:'/dorm/getsingledorm',\r\n                    params:{\r\n                        dormName:this.searchVal\r\n                    }\r\n                },(data)=>{\r\n                    this.myTableData = data\r\n                })\r\n            }\r\n            this.currentPage = 1\r\n        },\r\n        /* 重置 */\r\n        reset(){\r\n            this.searchVal = ''\r\n            this.onSelect({\r\n                url:'/dorm/getdorm'\r\n            },(data)=>{\r\n                this.myTableData = data\r\n            })\r\n        },\r\n        /* 催款按钮 */\r\n        dept(row) {\r\n            const _this = this\r\n            let type = ''\r\n            if (row.type == 1) {\r\n                type = 2\r\n            } else {\r\n                type = 1\r\n            }\r\n            _this.$confirm('确认修改该宿舍状态吗', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                _this.del({\r\n                    url: '/dorm/deptdorm',\r\n                    data: { \r\n                        id: row.id,\r\n                        type:type\r\n                    },\r\n                    updateUrl:'/dorm/getdorm',\r\n                    callback:function(data) {\r\n                        _this.updateData(data)\r\n                    }\r\n                })\r\n            }).catch(() => {\r\n                _this.$message({\r\n                    type: 'info',\r\n                    message: '已取消催款'\r\n                });          \r\n            });\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.addUser {\r\n  background-color: #fff;\r\n  color: #07c4a8;\r\n  border-radius: 4px;\r\n  border: 1px solid #07c4a8;\r\n}\r\n.content {\r\n  margin-top: 2rem;\r\n}\r\n.el-pagination {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dormitory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dormitory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dormitory.vue?vue&type=template&id=411d3dea&scoped=true&\"\nimport script from \"./Dormitory.vue?vue&type=script&lang=js&\"\nexport * from \"./Dormitory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dormitory.vue?vue&type=style&index=0&id=411d3dea&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"411d3dea\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dormitory.vue?vue&type=style&index=0&id=411d3dea&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dormitory.vue?vue&type=style&index=0&id=411d3dea&scoped=true&lang=less&\""],"sourceRoot":""}